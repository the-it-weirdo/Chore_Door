name: CI

on: 
  push:
    branches: [ main ]

  workflow_dispatch:

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
      with:
        fetch-depth: 0

    - name: Run
      id: run
      run: |  
        ls
        date > generated.txt
        git config user.name github-actions
        git config user.email github-actions@github.com
        git add .
        git commit -m "generated"
        git branch -M main
        git push -u https://github.com/the-it-weirdo/learning-gh-actions.git main
      continue-on-error: true
